<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hints</title>

    <style>:root{--custom-1:#486902;--custom-2:#A9BF04;--custom-3:#CCD96C;--custom-4:#A6A049;--custom-5:#D9CBA0;--custom-submit:#823F09;--custom-submit-dark:#301703;--custom-focus:var(--custom-1);--white:#FFF;--border-radius:0;background:var(--custom-2)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}*{box-sizing:border-box;font-family:inherit;line-height:inherit;margin:0;padding:0}* + *,.list-with-margin > * + li{margin-top:1em}.sr-only + *,legend + *,li{margin-top:0}dl,ol,ul{padding-left:2.5rem}body{background:#fff;border-radius:var(--border-radius);font-family:Arial, sans-serif;line-height:1.5;margin:2vw;padding:2vw;--color-error:red;--color-success:green}h1{font-size:2rem;line-height:1.2;text-align:center}h2{align-items:center;display:flex;padding-top:1rem}em{color:var(--custom-1);font-weight:bold}fieldset{border:none;display:flex;flex-direction:column;padding:0.5rem 0}figcaption{border-top:1px solid;display:inline-block;font-size:0.875em;margin-top:2rem;padding:0.75rem 0.5rem 0}figure{background:rgba(0,0,0,0.1);border:2px solid;padding:1rem}legend{margin-left:1rem}label{display:flex;flex-direction:column;font-weight:bold}output{display:block;margin-left:auto;margin-right:auto;max-width:32rem}code,input,svg,textarea{border:0.125rem solid;border-color:var(--custom-5);border-radius:var(--border-radius);color:inherit;font-family:inherit;font-size:inherit;height:auto;line-height:inherit;max-width:100%}input{margin-top:0.5rem;padding:0.5rem;max-width:20rem}input:focus,textarea:focus{background:var(--custom-3);border-color:var(--custom-focus);box-shadow:0 0 6px 3px var(--custom-4);outline:none}textarea{padding:1em;min-height:20em}input,textarea{background:var(--custom-3)}code{background:rgba(0,0,0,0.1);border-color:var(--custom-1);display:block;font-family:monospace;padding:1em}pre{overflow-x:auto}a{color:inherit;position:relative;text-decoration-color:var(--custom-1, currentColor)}a::before{background-color:var(--custom-1, currentColor);bottom:3px;content:"";left:0;height:2px;position:absolute;transition:0.2s width;width:0}a:focus::before,a:hover::before{text-decoration-color:transparent;width:100%}nav{border-bottom:3px solid;border-color:var(--custom-1);margin-left:-2vw;margin-right:-2vw;padding:1rem}nav ul{display:flex;justify-content:space-evenly;list-style-type:none;padding-left:0;white-space:nowrap}nav a{display:inline-block;margin-top:0;padding:0.5rem 0.75rem 0;text-decoration-color:transparent}nav a::first-letter{font-size:1.25em;font-weight:bold}nav a::before{left:0.75rem}nav a:focus::before,nav a:hover::before{width:calc(100% - 1.5rem)}[role="button"],[type="submit"],button{background:var(--custom-1);border:none;border-radius:var(--border-radius);color:var(--white);font-size:inherit;font-weight:bold;margin-bottom:1em;padding:0.75rem 1.5rem;text-transform:uppercase}[role="button"]:focus,[type="submit"]:focus,button:focus{background:var(--custom-4);box-shadow:0 0 6px 3px var(--custom-4);outline:none}[type="submit"],form button:not([type]){background:var(--custom-submit)}[type="submit"]:focus,form button:not([type]):focus{background:var(--custom-submit-dark)}input[type=range]{-webkit-appearance:none;width:100%;margin:1rem 0}input[type=range]::-webkit-slider-runnable-track{width:100%;height:1rem;cursor:pointer;border-radius:0;border:0.125rem solid}input[type=range]::-webkit-slider-thumb{border:0.125rem solid;border-radius:var(--border-radius);height:3rem;width:1.5rem;cursor:pointer;-webkit-appearance:none;margin-top:-1rem}input[type=range]::-moz-range-track{width:100%;height:1rem;cursor:pointer;border-radius:0;border:none}input[type=range]::-moz-range-thumb{background:var(--custom-2);border:0.125rem solid;height:3rem;width:1.5rem;border-radius:var(--border-radius);cursor:pointer}input[type=range]::-ms-track{width:100%;height:1rem;cursor:pointer}input[type=range]::-ms-fill-lower{border:0.125rem solid;border-radius:0}input[type=range]::-ms-fill-upper{border:0.125rem solid;border-radius:0}input[type=range]::-ms-thumb{border:0.125rem solid;border-radius:var(--border-radius);width:1.5rem;cursor:pointer;height:1rem}:root{--custom-1:#253659;--custom-2:#141924;--custom-3:#07090D;--custom-4:#273D59;--custom-5:#3D5A73;--custom-5-light:#bccddc}::selection{background:var(--white);color:var(--custom-4)}body{background:var(--custom-2);color:var(--white);margin:2vw auto;max-width:60rem}code{background:rgba(0, 0, 0, 0.5)}em{color:var(--custom-4)}figure{background:rgba(0,0,0,0.5);border-color:var(--custom-4)}label{display:flex;flex-direction:column}label small{margin-top:0.25rem;order:1}label input{margin-top:0.5rem}li,p{max-width:65ch}.hints-container{--height:auto;--bottom:auto;--left:auto;--right:auto;--top:auto;background:white;border:2px solid;border-top:none;color:#222;font-size:0.875rem;height:calc(var(--height) * 1px);left:calc(var(--left) * 1px);margin-top:0;max-width:20rem;min-width:10rem;overflow:auto;position:fixed;top:calc(var(--top) * 1px);z-index:1}.hints-container ul{list-style-type:none;padding-left:0}.hints-container li{padding:0.25rem 0.5rem}.hints-container * + li{border-top:1px solid}.hints-container li:nth-child(even){background:rgba(0,0,0,0.1)}.hints-container li.focus{background:rgba(0,0,0,0.2);font-weight:bold}.list-with-margin::marker{color:var(--custom-5-light)}.list-with-margin strong{color:var(--custom-5-light);font-size:1.1em}</style>
</head>
<body>
<nav>
<ul>
<li><a href="#demos">Demos</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#settings">Settings</a></li>
<li><a href="#get-it-now">Get it now</a></li>
</ul>
</nav>
<h1>Hints - small javascript library to provide autocompletion help</h1>
<h2>Features</h2>
<ul>
<li>Fully responsive. Hints always stays on screen.</li>
<li>Keyboard friendly. Assistive technology support with aria included.</li>
<li>Customizable. Adding, removing, filtering hints as you wish.</li>
</ul>
<h2 id="demos">Demos</h2>
<h3>Simple hint list</h3>
<p>Perfect to hint always the same items, independent of user input.</p>
<figure>
    <label>
        <span>My favourite city in Germany (e.g. Köln, München, Nürnberg): </span>
        <small>Press Ctrl + Space to show hints</small>
        <input id="demo-simple">
    </label>
    <pre><code>new Hints('#demo-simple', {
    hints:  ['ä', 'ö', 'ü', 'ß']
});</code></pre>
    <figcaption>Text input with hints for german letters "ä", "ö", "ü", "ß".</figcaption>
</figure>
<h3>Different hints for different triggers</h3>
<p>Useful when only some hints should be displayed depending on user input.</p>
<figure>
    <label>
        <span>My favourite region in Germany (e.g. Brandenburg, Sachsen):</span>
        <input id="demo-triggers">
    </label>
    <pre><code>new Hints('#demo-triggers', {
    behavior: 'replace',
    hints: {
        'B': ['Baden-Württemberg', 'Bayern', 'Berlin', 'Brandenburg', 'Bremen'],
        'H': ['Hamburg', 'Hessen'],
        'M': ['Mecklenburg-Vorpommern'],
        'N': ['Niedersachsen', 'Nordrhein-Westfalen'],
        'R': ['Rheinland-Pfalz'],
        'S': ['Saarland', 'Sachsen', 'Sachsen-Anhalt', 'Schleswig-Holstein'],
        'T': ['Thüringen']
    }
});</code></pre>
    <figcaption>Text input with different hints depending on input value.</figcaption>
</figure>
<h3>Inline autocomplete</h3>
<p>When you want to append hint value to the input.</p>
<figure>
    <label>
        <span>My favourite region in Germany (e.g. Brandenburg, Sachsen):</span>
        <input id="demo-inline-autocomplete">
    </label>
    <pre><code>new Hints('#demo-inline-autocomplete', {
    behavior: 'replace',
    hints: {
        'B': ['Baden-Württemberg', 'Bayern', 'Berlin', 'Brandenburg', 'Bremen'],
        'H': ['Hamburg', 'Hessen'],
        'M': ['Mecklenburg-Vorpommern'],
        'N': ['Niedersachsen', 'Nordrhein-Westfalen'],
        'R': ['Rheinland-Pfalz'],
        'S': ['Saarland', 'Sachsen', 'Sachsen-Anhalt', 'Schleswig-Holstein'],
        'T': ['Thüringen']
    },
    inlineAutocomplete: true,
});</code></pre>
    <figcaption>Text input with different hints depending on input and inline autocomplete.</figcaption>
</figure>
<h3>Add & Remove</h3>
<p>Update your hint list whenever you need it.</p>
<figure>
    <label>
        <span>My favourite item:</span>
        <input id="demo-add-remove">
    </label>
    <pre><code>new Hints('#demo-add-remove');</code></pre>
    <figcaption>Text input with different hints depending on input and inline autocomplete.</figcaption>
</figure>
<h2 id="usage">Getting started</h2>
<ol>
<li>
    <h3>Setup your HTML.</h3>
    <figure>
        <pre><code>&lt;input id=&quot;demo&quot;/&gt;</code></pre>
    </figure>
</li>
<li>
    <h3>Add hints.css in your head.</h3>
    <figure>
        <pre><code>&lt;link rel="stylesheet" href="hints.css"&gt;</code></pre>
    </figure>
</li>
<li>
    <h3>Add hints.js before your closing body tag.</h3>
    <figure>
        <pre><code>&lt;script src=&quot;hints.js&quot;&gt;&lt;/script&gt;</code></pre>
    </figure>
</li>
<li>
    <h3>Initialize hints.</h3>
    <figure>
        <pre><code>new Hints('#demo');</code></pre>
    </figure>
</li>
</ol>
<h2 id="settings">Settings</h2>
<ul class="list-with-margin">
<li>
    <p><strong>anyPosition</strong></p>
    <p><b>Type:</b> boolean</p>
    <p><b>Default:</b> false </p>
    <p>If set to true any hint containing user input will be showed, no matter the position e.g. typing "cat" would match "concat"; If set to false only hints beginning with user input will be showed.</p>
</li>
<li>
    <p><strong>behavior</strong></p>
    <p><b>Type:</b> string</p>
    <p><b>Default:</b> 'append' </p>
    <p><b>Accepted:</b> 'append', 'replace', 'autocomplete'</p>
    <p>If set to true any hint containing user input will be showed, no matter the position e.g. typing "cat" would match "concat"; If set to false only hints beginning with user input will be showed.</p>
</li>
<li>
    <p><strong>caseSensitive</strong></p>
    <p><b>Type:</b> boolean</p>
    <p><b>Default:</b> true </p>
    <p>If set to true any hint containing user input will be showed, no matter the position e.g. typing "cat" would match "concat"; If set to false only hints beginning with user input will be showed.</p>
</li>
<li>
    <p><strong>emphasize</strong></p>
    <p><b>Type:</b> boolean</p>
    <p><b>Default:</b> true </p>
    <p>If set to true any hint containing user input will be showed, no matter the position e.g. typing "cat" would match "concat"; If set to false only hints beginning with user input will be showed.</p>
</li>
<li>
    <p><strong>focusOnOpen</strong></p>
    <p><b>Type:</b> boolean</p>
    <p><b>Default:</b> false </p>
    <p>If set to true any hint containing user input will be showed, no matter the position e.g. typing "cat" would match "concat"; If set to false only hints beginning with user input will be showed.</p>
</li>
<li>
    <p><strong>hints</strong></p>
    <p><b>Type:</b> array</p>
    <p><b>Default:</b> empty </p>
    <p>If set to true any hint containing user input will be showed, no matter the position e.g. typing "cat" would match "concat"; If set to false only hints beginning with user input will be showed.</p>
</li>
<li>
    <p><strong>offset</strong></p>
    <p><b>Type:</b> number</p>
    <p><b>Default:</b> 16 </p>
    <p>Number of pixels between hint box and window boundaries.</p>
</li>
<li>
    <p><strong>simplePositioning</strong></p>
    <p><b>Type:</b> boolean</p>
    <p><b>Default:</b> false </p>
    <p>If set to true expensive positioning under cursor will we omitted and hint container's left edge will be aligned with input's left bottom corner.</p>
</li>
<li>
    <p><strong>trigger</strong></p>
    <p><b>Type:</b> string</p>
    <p><b>Default:</b> '_' </p>
    <p>Character or characters that trigger displaying of popup. If you want different triggers for different hint lists define them in <code>hints</code> setting. If you do so, you don't need to populate this setting.</code></p>
</li>
<li>
    <p><strong>triggerLength</strong></p>
    <p><b>Type:</b> integer</p>
    <p><b>Default:</b> 1 </p>
    <p>Number of characters that need to be typed before hint list gets displayed.</p>
</li>
<li>
    <p><strong>version</strong></p>
    <p><b>Type:</b> string</p>
    <p><b>Default:</b> '1.0' </p>
    <p><b>Accepted:</b> '1.0', '1.1' </p>
    <p>This option corresponds to <a href="https://www.w3.org/TR/wai-aria-practices-1.1/#combobox">WAI ARIA</a> specification version.</p>
</li>
</ul>
<h2>Events</h2>
<ul>
<li>
    <p><strong>init</strong></p>
    <p><b>Arguments:</b> hints </p>
    <p>Fires after first initialization.</p>
</li>
</ul>
<h2>Methods</h2>
<ul>
<li>
    <p><strong>add</strong></p>
    <p><b>Arguments:</b> new hint or hints; string, array or Object</p>
    <p>Add new hints.</p>
</li>
</ul>
<h2 id="get-it-now">Get it now</h2>
<p>
    You will find all the code on <a href="https://github.com/kasia-website/hints">Github</a>.
</p>

<script>function getTextBoundingRect(input,selectionStart,selectionEnd,debug){if(!input||!('value'in input)){return input}if(typeof selectionStart=="string"){selectionStart=parseFloat(selectionStart)}if(typeof selectionStart!="number"||isNaN(selectionStart)){selectionStart=0}if(selectionStart<0){selectionStart=0}else{selectionStart=Math.min(input.value.length,selectionStart)}if(typeof selectionEnd=="string"){selectionEnd=parseFloat(selectionEnd)}if(typeof selectionEnd!="number"||isNaN(selectionEnd)||selectionEnd<selectionStart){selectionEnd=selectionStart}if(selectionEnd<0){selectionEnd=0}else{selectionEnd=Math.min(input.value.length,selectionEnd)}if(typeof input.createTextRange=="function"){var range=input.createTextRange();range.collapse(true);range.moveStart('character',selectionStart);range.moveEnd('character',selectionEnd-selectionStart);return range.getBoundingClientRect()}var offset=getInputOffset(),topPos=offset.top,leftPos=offset.left,width=getInputCSS('width',true),height=getInputCSS('height',true);var cssDefaultStyles="white-space:pre;padding:0;margin:0;",listOfModifiers=['direction','font-family','font-size','font-size-adjust','font-variant','font-weight','font-style','letter-spacing','line-height','text-align','text-indent','text-transform','word-wrap','word-spacing'];topPos+=getInputCSS('padding-top',true);topPos+=getInputCSS('border-top-width',true);leftPos+=getInputCSS('padding-left',true);leftPos+=getInputCSS('border-left-width',true);leftPos+=1;for(var i=0;i<listOfModifiers.length;i+=1){var property=listOfModifiers[i];cssDefaultStyles+=property+':'+getInputCSS(property)+';'}var text=input.value,textLen=text.length,fakeClone=document.createElement("div");if(selectionStart>0){appendPart(0,selectionStart)}var fakeRange=appendPart(selectionStart,selectionEnd);if(textLen>selectionEnd){appendPart(selectionEnd,textLen)}fakeClone.style.cssText=cssDefaultStyles;fakeClone.style.position="absolute";fakeClone.style.top=topPos+"px";fakeClone.style.left=leftPos+"px";fakeClone.style.width=width+"px";fakeClone.style.height=height+"px";document.body.appendChild(fakeClone);var returnValue=fakeRange.getBoundingClientRect();if(!debug){fakeClone.parentNode.removeChild(fakeClone);}return returnValue;function appendPart(start,end){var span=document.createElement("span");span.style.cssText=cssDefaultStyles;span.textContent=text.substring(start,end);fakeClone.appendChild(span);return span}function getInputOffset(){var body=document.body,win=document.defaultView,docElem=document.documentElement,box=document.createElement('div');box.style.paddingLeft=box.style.width="1px";body.appendChild(box);var isBoxModel=box.offsetWidth==2;body.removeChild(box);box=input.getBoundingClientRect();var clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,scrollTop=win.pageYOffset||isBoxModel&&docElem.scrollTop||body.scrollTop,scrollLeft=win.pageXOffset||isBoxModel&&docElem.scrollLeft||body.scrollLeft;return{top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft}}function getInputCSS(prop,isnumber){var val=document.defaultView.getComputedStyle(input,null).getPropertyValue(prop);return isnumber?parseFloat(val):val}}let Hints=(function(){function Hints(element,settings){let _=this;_.defaults={anyPosition:false,automaticSelection:false,automaticSelectionConfirm:[' '],behavior:'append',caseSensitive:true,emphasize:true,focusOnOpen:false,inlineAutocomplete:false,hints:[],maxHeight:300,minHeight:100,offset:16,simplePositioning:false,trigger:'_',triggerLength:1,version:'1.0'};if(!settings||!settings instanceof Object){settings={}}_.options={..._.defaults,...settings};if(!!settings){if(settings.hasOwnProperty('hints')&&!Array.isArray(settings.hints)){_.options.trigger=Object.getOwnPropertyNames(settings.hints).join('')}if(settings.hasOwnProperty('noTrigger')){_.options.trigger='';_.options.triggerLength=0}if(settings.hasOwnProperty('automaticSelection')){_.options.focusOnOpen=true}if(settings.hasOwnProperty('inlineAutocomplete')){_.options.focusOnOpen=true;_.options.automaticSelectionConfirm=[39]}if(settings.hasOwnProperty('version')){if(settings.version==='1.1'){_.options.version=settings.version}}}_.focusedHint=false;_.hintContainer=null;_.hintList=null;_.hints=_.options.hints;_.hintsVisible=false;_.matchLength=0;_.source=element instanceof HTMLElement?element:document.querySelector(element);_.init()}return Hints}());Hints.prototype.add=function(hint){let _=this;if(typeof hint==='string'){_.hints.push(hint)}if(Array.isArray(hint)){_.hints=[..._.hints,...hint]}if(hint instanceof Object&&_.hints instanceof Object){for(let hintKey in hint){if(_.hints.hasOwnProperty(hintKey)){_.hints[hintKey]=[..._.hints[hintKey],...hint[hintKey]]}else{_.hints[hintKey]=[];hint[hintKey].forEach(function(item){_.hints[hintKey].push(item)});_.options.trigger+=hintKey.substring(0,_.options.triggerLength)}}}};Hints.prototype.buildHintContainer=function(){let _=this,container;container=document.createElement('div');container.setAttribute('id',_.generateId());container.classList.add('hints-container');document.body.appendChild(container);_.hintContainer=container};Hints.prototype.buildHintList=function(){let _=this,list;if(!_.hintContainer){return}list=document.createElement('ul');list.setAttribute('role','listbox');_.hintContainer.appendChild(list);_.hintList=list};Hints.prototype.buildHintListContent=function(){let _=this,newHints;_.emptyHintList();newHints=_.getHints();for(let i=0;i<newHints.length;i+=1){let hint=document.createElement('li');hint.innerHTML=newHints[i];hint.setAttribute('id',_.generateId());hint.setAttribute('role','option');_.hintList.appendChild(hint)}return newHints.length};Hints.prototype.emphasize=function(item,index,arr){let _=this;arr[index]=item.replace(_.getSuffix(),'<em>'+_.getSuffix()+'</em>')};Hints.prototype.emptyHintList=function(){let _=this;if(!!_.hintList&&_.hintList.childElementCount>0){while(_.hintList.firstChild){_.hintList.removeChild(_.hintList.lastChild)}}};Hints.prototype.filter=function(hint){let _=this;if(_.options.anyPosition){return hint.indexOf(_.getSuffix())>-1}return hint.indexOf(_.getSuffix())===0};Hints.prototype.generateId=function(){let id='';let characters='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';let charactersLength=characters.length;for(let i=0;i<10;i+=1){id+=characters.charAt(Math.floor(Math.random()*charactersLength))}return id};Hints.prototype.getHints=function(){let _=this,hints;hints=_.options.hints;if(_.options.hints instanceof Object){if(_.options.hints.hasOwnProperty(_.lastCharacter())){hints=_.options.hints[_.lastCharacter()];}else{hints=[].concat.apply([],Object.values(_.options.hints));}}if(_.getSuffix().length>0){hints=hints.filter(_.filter,_)}if(_.getSuffix().length>0&&_.options.emphasize){hints.forEach(_.emphasize,_)}return hints};Hints.prototype.getNextHintIndex=function(){let _=this,index;index=Array.prototype.indexOf.call(_.hintList.children,_.focusedHint);return(index-1+_.hintList.childElementCount)%_.hintList.childElementCount};Hints.prototype.getPreviousHintIndex=function(){let _=this,index;index=Array.prototype.indexOf.call(_.hintList.children,_.focusedHint);return(index+1+_.hintList.childElementCount)%_.hintList.childElementCount};Hints.prototype.getSuffix=function(){let _=this,end,length;end=_.source.selectionEnd;length=_.matchLength;if(length===0&&_.options.behavior==="replace"){_.matchLength=_.options.triggerLength}return _.source.value.substr(end-length,_.length)};Hints.prototype.handleClick=function(event){let _=this;if(event.target.closest('li')&&_.hintContainer.contains(event.target)){_.focusedHint=event.target;_.insertHint()}else if(_.options.automaticSelection){_.insertHint()}_.hideHints()};Hints.prototype.handleFocusOut=function(event){let _=this;if(_.options.automaticSelection){_.insertHint()}_.resetMatchLength()};Hints.prototype.handleInput=function(event){let _=this;if(_.match()){_.showHints()}else{_.resetMatchLength();_.hideHints()}};Hints.prototype.handleKeyDown=function(event){let _=this;const BACK=8,TAB=9,ENTER=13,ESC=27,SPACE=32,END=35,HOME=36,LEFT=37,UP=38,RIGHT=39,DOWN=40,DEL=46;if(event.which===BACK){if(_.source.selectionStart!==_.source.selectionEnd){event.preventDefault();_.source.value=_.source.value.substring(0,_.source.selectionStart)}else if(_.matchLength>0){_.matchLength-=1}}if(event.which===DEL&&_.source.selectionStart!==_.source.selectionEnd){_.source.value=_.source.substring(0,_.source.selectionStart)+_.source.substring(_.source.selectionEnd,_.source.value.length-1)}if(event.ctrlKey&&event.which===SPACE){_.resetMatchLength();_.showHints();return}if(_.isPrintable(event.which)){_.matchLength+=1}if(!_.hintContainer||!_.hintsVisible){return}if(_.options.automaticSelectionConfirm.indexOf(event.which)>-1){_.insertHint();_.hideHints();return}switch(event.which){case TAB:_.hideHints();break;case ENTER:event.preventDefault();_.insertHint();_.hideHints();break;case ESC:event.preventDefault();_.source.setSelectionRange(_.source.value.length,_.source.value.length);_.hideHints();break;case UP:event.preventDefault();if(_.focusedHint){let index=_.getNextHintIndex();_.visuallyUnfocus(_.focusedHint);_.focusedHint=_.hintList.children.item(index)}else{_.focusedHint=_.hintList.lastElementChild}_.visuallyFocus(_.focusedHint);break;case DOWN:event.preventDefault();if(_.focusedHint){let index=_.getPreviousHintIndex();_.visuallyUnfocus(_.focusedHint);_.focusedHint=_.hintList.children.item(index)}else{_.focusedHint=_.hintList.firstElementChild}_.visuallyFocus(_.focusedHint);break;default:break}};Hints.prototype.handleResize=function(event){let _=this;_.hideHints()};Hints.prototype.handleScroll=function(event){let _=this,top;if(!_.hintsVisible){return}top=_.hintContainer.style.getPropertyValue('--top');if(_.hintContainer.hasAttribute('data-y-offset')){top-=window.pageYOffset-_.hintContainer.getAttribute('data-y-offset')}_.hintContainer.setAttribute('data-y-offset',window.pageYOffset);_.hintContainer.style.setProperty('--top',top)};Hints.prototype.hasHint=function(hint){let _=this;if(Array.isArray(_.hints)){return _.hints.indexOf(hint)>-1}if(_.hints instanceof Object){let result=false;for(let hintKey in _.hints){if(_.hints[hintKey].indexOf(hint)>-1){return true}}}return false};Hints.prototype.hideHints=function(){let _=this;if(!_.hintContainer){return}_.hintContainer.style.setProperty('display','none');_.source.setAttribute('aria-expanded','false');_.source.removeAttribute('aria-activedescendant');_.hintsVisible=false;if(!!_.focusedHint){_.visuallyUnfocus(_.focusedHint)}_.focusedHint=false;_.source.dispatchEvent(new Event('hintshidden'))};Hints.prototype.init=function(){let _=this;if(!_.source.classList.contains('hints-initialized')){_.buildHintContainer();_.setupSourceElement();_.hideHints();_.buildHintList();_.resetMatchLength();_.initializeEvents();_.source.dispatchEvent(new Event('hintsinitialized'))}};Hints.prototype.initializeEvents=function(){let _=this;_.source.addEventListener('focusout',_.handleFocusOut.bind(_));_.source.addEventListener('input',_.handleInput.bind(_));_.source.addEventListener('keydown',_.handleKeyDown.bind(_));document.addEventListener('click',_.handleClick.bind(_));window.addEventListener('scroll',_.handleScroll.bind(_));window.addEventListener('resize',_.handleResize.bind(_))};Hints.prototype.insertHint=function(){let _=this,end,value,insert;if(!_.focusedHint){return}end=_.source.selectionEnd;value=_.source.value;insert=_.focusedHint.textContent.substring(_.matchLength);if(_.options.inlineAutocomplete){_.source.setSelectionRange(end,end,"forward")}else{_.source.value=value.substring(0,end)+insert+value.substring(end);_.source.selectionEnd=end+insert.length}_.resetMatchLength()};Hints.prototype.isPrintable=function(keycode){let valid=(keycode>47&&keycode<58)||keycode===32||(keycode>64&&keycode<91)||(keycode>95&&keycode<112)||(keycode>185&&keycode<193)||(keycode>218&&keycode<223);return valid};Hints.prototype.lastCharacter=function(){let _=this,start;start=_.source.selectionEnd;if(_.matchLength>0){start-=_.matchLength}if(_.matchLength===0||_.options.behavior==="append"){start-=_.options.triggerLength}if(start<0){start=0}return _.source.value.substr(start,_.options.triggerLength)};Hints.prototype.match=function(){let _=this,regex;if(_.options.trigger===''||_.options.triggerLength===0){return true}regex=new RegExp('['+_.options.trigger+']');return regex.test(_.lastCharacter())};Hints.prototype.positionHintBox=function(){let _=this,rect,hrect,selection,top,left,height;if(!_.hintContainer){return}rect=_.source.getBoundingClientRect();_.hintContainer.style.setProperty('visibility','hidden');_.hintContainer.style.setProperty('display','block');hrect=_.hintContainer.getBoundingClientRect();_.hintContainer.style.removeProperty('visibility');top=rect.top+rect.height;left=rect.left;if(!_.options.simplePositioning){selection=_.source.selectionEnd;rect=getTextBoundingRect(_.source,selection);top=rect.top+16;left=rect.left}if(top+hrect.height+_.options.offset>window.innerHeight){if(top+_.options.minHeight<window.innerHeight){height=window.innerHeight-top-_.options.offset;}else{height=_.options.maxHeight;top=rect.top-height-_.options.offset;if(top<0){height+=top;top=_.options.offset;height-=_.options.offset}}}_.hintContainer.setAttribute('data-y-offset',window.pageYOffset);_.hintContainer.style.setProperty('--height',height);_.hintContainer.style.setProperty('--top',top);_.hintContainer.style.setProperty('--left',left)};Hints.prototype.removeAll=function(){let _=this;_.hints=[]};Hints.prototype.remove=function(hint){let _=this;if(typeof hint==='string'&&_.hints.indexOf(hint)>-1){_.hints.splice(_.hints.indexOf(hint),1)}if(Array.isArray(hint)){hint.forEach(function(hint){if(_.hints.indexOf(hint)>-1){_.hints.splice(_.hints.indexOf(hint),1)}})}if(hint instanceof Object){for(let hintKey in hint){if(_.hints.hasOwnProperty(hintKey)){_.hints[hintKey].forEach(function(hint){if(_.hints[hintKey].indexOf(hint)>-1){_.hints[hintKey].splice(_.hints[hintKey].indexOf(hint),1)}})}}}};Hints.prototype.replaceHint=function(remove,insert){let _=this;if(!remove){_.add(insert)}if(!insert){_.remove(remove)}if(typeof remove=='string'&&_.hints.indexOf(remove)>-1){if(typeof insert=='string'){_.hints.splice(_.hints.indexOf(remove),1,insert)}if(Array.isArray(insert)){let index=_.hints.indexOf(remove);_.hints.splice(_.hints.indexOf(remove),1);insert.forEach(function(item){_.hints.splice(index,0,item)})}}};Hints.prototype.resetMatchLength=function(){let _=this;_.matchLength=0};Hints.prototype.setupSourceElement=function(){let _=this;_.source.classList.add('hints-initialized');_.source.setAttribute('role','combobox');_.source.setAttribute('aria-haspopup','listbox');_.source.setAttribute('aria-expanded','false');_.source.setAttribute('aria-autocomplete','list');_.source.setAttribute('aria-owns',_.hintContainer.getAttribute('id'));_.source.setAttribute('autocomplete','off')};Hints.prototype.showHints=function(){let _=this,count;if(!_.hintContainer){return}count=_.buildHintListContent();if(count===0){_.hideHints();return}_.positionHintBox();_.hintContainer.style.removeProperty('display');if(_.options.focusOnOpen){_.focusedHint=_.hintList.firstElementChild;_.visuallyFocus(_.focusedHint)}_.hintsVisible=true;_.source.dispatchEvent(new Event('hintsvisible'))};Hints.prototype.visuallyFocus=function(element){let _=this,start,end;element.classList.add('focus');element.setAttribute('aria-selected','true');_.source.setAttribute('aria-activedescendant',element.getAttribute('id'));if(_.options.inlineAutocomplete){if(_.source.selectionStart!==_.source.selectionEnd){_.source.value=_.source.value.substring(0,_.source.selectionStart)}start=_.source.selectionStart;end=start+_.focusedHint.innerText.length-_.matchLength;_.source.value+=_.focusedHint.innerText.substring(_.matchLength);_.source.setSelectionRange(start,end,"forward")}element.scrollIntoView(false);_.source.dispatchEvent(new Event('hintsfocus'))};Hints.prototype.visuallyUnfocus=function(element){let _=this;element.classList.remove('focus');element.removeAttribute('aria-selected');_.source.removeAttribute('aria-activedescendant');_.source.dispatchEvent(new Event('hintsunfocus'))};new Hints('#demo-simple',{hints:['ä','ö','ü','ß']});new Hints('#demo-triggers',{behavior:'replace',hints:{'B':['Baden-Württemberg','Bayern','Berlin','Brandenburg','Bremen'],'H':['Hamburg','Hessen'],'M':['Mecklenburg-Vorpommern'],'N':['Niedersachsen','Nordrhein-Westfalen'],'R':['Rheinland-Pfalz'],'S':['Saarland','Sachsen','Sachsen-Anhalt','Schleswig-Holstein'],'T':['Thüringen']}});new Hints('#demo-inline-autocomplete',{behavior:'replace',hints:{'B':['Baden-Württemberg','Bayern','Berlin','Brandenburg','Bremen'],'H':['Hamburg','Hessen'],'M':['Mecklenburg-Vorpommern'],'N':['Niedersachsen','Nordrhein-Westfalen'],'R':['Rheinland-Pfalz'],'S':['Saarland','Sachsen','Sachsen-Anhalt','Schleswig-Holstein'],'T':['Thüringen']},inlineAutocomplete:true});counter=0;addRemoveInput=document.getElementById('demo-add-remove');let addRemove=new Hints(addRemoveInput,{trigger:'I'});let status=document.createElement('div');status.setAttribute('role','status');let add=document.createElement('button');add.innerText='Add hint';add.addEventListener('click',function(event){addRemove.add('Item '+ ++counter);let text='Appended new item: Item '+counter+'.\n Available hints: ';text+=addRemove.hints.join();text+='.';status.innerText=text;addRemoveInput.focus()});let remove=document.createElement('button');remove.innerText='Remove hint';remove.addEventListener('click',function(event){addRemove.remove('Item '+counter);let text='Removed item: Item '+counter-- +'.\n Available hints: ';text+=addRemove.hints.join();text+='.';status.innerText=text;addRemoveInput.focus()});addRemoveInput.parentElement.insertAdjacentElement('afterend',add);add.insertAdjacentElement('afterend',remove);remove.insertAdjacentElement('afterend',status);</script>
</body>
</html>
